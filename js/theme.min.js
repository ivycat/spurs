"use strict";!function(){var e=-1<navigator.userAgent.toLowerCase().indexOf("webkit"),n=-1<navigator.userAgent.toLowerCase().indexOf("opera"),t=-1<navigator.userAgent.toLowerCase().indexOf("msie");(e||n||t)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var e=location.hash.substring(1);/^[A-z0-9_-]+$/.test(e)&&(e=document.getElementById(e))&&(/^(?:a|select|input|button|textarea)$/i.test(e.tagName)||(e.tabIndex=-1),e.focus())},!1)}(),($=jQuery)(function(t){t(".spurs_loadmore").click(function(){var e=!1,n=(t("body").hasClass("search-results")&&(e=!0),t(this)),e={action:"loadmore",query:spurs_loadmore_params.posts,page:spurs_loadmore_params.current_page,search_page:e};t.ajax({url:spurs_loadmore_params.ajaxurl,data:e,type:"POST",beforeSend:function(e){n.text("Loading...")},success:function(e){(!e||(n.text("More posts"),t(".latest-posts-list > .card-group").append(e),spurs_loadmore_params.current_page++,spurs_loadmore_params.current_page==spurs_loadmore_params.max_page))&&n.remove()}})})}),function(t){t(".skip-link.screen-reader-text").on("click",function(e){t(e.currentTarget.hash).find("a").first().focus()});var e=t("<button />",{class:"dropdown-toggle","aria-expanded":!1,role:"button"}).append(t("<div />",{class:"chevron-right"})).append(t("<span />",{class:"screen-reader-text sr-only screen-readers",text:"Expand child menu"}));t(".menu-item-has-children > a").after(e),t(".menu-item a, a.dropdown-toggle, button.dropdown-toggle").on("keydown",function(e){if(-1!=["ArrowLeft","ArrowUp","ArrowRight","ArrowDown","Enter"].indexOf(e.key))switch(console.log("keboard key = ",e.key),e.key){case"ArrowDown":e.preventDefault(),e.stopPropagation(),0<t(this).closest("ul.dropdown-menu.show").length&&0==t(this).closest("ul.dropdown-menu.dropdown-submenu.show").length?(e.stopPropagation(),t(this).parent("li").next("li.menu-item").children("a").focus()):0<t(this).closest("ul.dropdown-menu.dropdown-submenu.show").length&&t(this).parent("li").next("li.menu-item").children("a").focus(),0<t(this).next("ul.dropdown-menu.show").length&&t(this).next("ul.dropdown-menu.show").children("li.menu-item:first-child").children("a").focus();break;case"ArrowLeft":e.preventDefault(),0<t(this).closest("ul.dropdown-menu.dropdown-submenu.show").length&&(console.log("Inside 2nd Submenu"),0<t(this).parent("li.menu-item:first-child").length)&&(console.log("First item of 2nd Submenu"),t(this).closest("ul").prev("button.dropdown-toggle").focus()),0<t(this).prev("a").length?(t(this).prev("a").focus(),console.log("left Anchor exists in same parent")):0<t(this).parent("li").prev("li.menu-item").children("button.dropdown-toggle").length?(t(this).parent("li").prev("li.menu-item").children("button.dropdown-toggle").focus(),console.log("On left button exsist")):0<t(this).parent("li").prev("li.menu-item").children("a").length&&(t(this).parent("li").prev("li.menu-item").children("a").focus(),console.log("left key main menu"),console.log("Button does not exist on left, going for previous Anchor element"));break;case"ArrowRight":var n;0<t(this).closest("ul.dropdown-menu.dropdown-submenu").length?console.log("2nd submenu"):(0<t(this).closest("ul.dropdown-menu").length?(console.log("1st submenu"),0<t(this).next("button.dropdown-toggle").length&&(console.log("1st submenu button exists on right, added focus"),t(this).next("button.dropdown-toggle").focus())):(console.log("main menu"),0<t(this).next("button.dropdown-toggle").length?(console.log("on right button exsist"),t(this).next("button.dropdown-toggle").focus()):0<t(this).parent("li").next("li.menu-item").children("a").length&&(console.log("button does not exist on right, going for next Anchor element"),t(this).parent("li").next("li.menu-item").children("a").focus(),(n=t("#main-menu .menu-item-has-children.dropdown.active.show")).find("ul.dropdown-menu.show").removeClass("show"),n.find("a").attr("aria-expanded","false"),n.find("button").attr("aria-expanded","false"),n.removeClass("show"))),t(this).next("ul.dropdown-menu.dropdown-submenu.show")&&t(this).next("ul.dropdown-menu.dropdown-submenu.show").children("li.menu-item:first").children("a").focus());break;case"ArrowUp":e.preventDefault(),e.stopPropagation(),0<t(this).closest("ul.dropdown-menu.show").length&&0==t(this).closest("ul.dropdown-menu.dropdown-submenu.show").length&&(e.stopPropagation(),t(this).parent("li").prev("li.menu-item").children("a").focus(),0<t(this).parent("li.menu-item:first-child").length)&&t(this).closest("ul.dropdown-menu").prev("button.dropdown-toggle").focus(),0<t(this).closest("ul.dropdown-menu.dropdown-submenu").length&&(0<t(this).parent("li.menu-item:first-child").length?e.stopPropagation():t(this).parent("li").prev("li.menu-item").children("a").focus()),0<t(this).closest("li.menu-item:first").length&&t(this).closest("ul.dropdown-menu.show").prev("a.dropdown-toggle").focus();break;case"Enter":e.preventDefault(),e.stopPropagation(),t(this).is("[href]")&&"#"!==t(this).attr("href")?window.location.href=t(this).attr("href"):"button"===t(this).attr("role")&&(console.log("Opening sub menu"),0<t(this).next("ul.dropdown-menu.show").length?(console.log("role: close"),t(this).next("ul.dropdown-menu.show").removeClass("show"),t(this).prev("a").attr("aria-expanded","false"),t(this).attr("aria-expanded","false"),t(this).parent().closest("li.menu-item").removeClass("show"),t(this).click()):0<t(this).next("ul.dropdown-menu").length&&(console.log("role: open"),t(this).next("ul.dropdown-menu").addClass("show"),t(this).prev("a").attr("aria-expanded","true"),t(this).attr("aria-expanded","true"),t(this).parent().closest("li.menu-item").addClass("show"),t(this).click()))}}),t("#main-menu>.menu-item>a").focusin(function(){var e=t("#main-menu .menu-item-has-children.dropdown.active.show");0<e.length&&(e.find("ul.dropdown-menu.show").removeClass("show"),e.find("a").attr("aria-expanded","false"),e.find("button").attr("aria-expanded","false"),e.removeClass("show"))})}(jQuery);var window_width=($=jQuery)(window).outerWidth(),navbar=$("header.main-header"),announcement_bar=$(".announcement"),admin_bar=$("#wpadminbar");function adjust_search_box(){var e=0;announcement_bar.length&&announcement_bar.isInViewport()&&(e+=announcement_bar.outerHeight()),admin_bar.length&&admin_bar.isInViewport()&&(e+=admin_bar.outerHeight()),navbar.length&&navbar.isInViewport()&&(e+=navbar.outerHeight()),$(".search-box").css("top",e)}$(document).ready(function(){$("#back-to-top").on("click",function(){$("html, body").animate({scrollTop:0},1e3)}),$(".header-search a, .search-box .button-close").click(function(){$(".search-box").toggleClass("active"),navbar.toggleClass("search-active"),adjust_search_box()}),$(document).on("click",'a[href^="#"]',function(e){var n=$(this.hash),t=15,o=$(this).attr("href");0<admin_bar.length&&(t+=admin_bar.outerHeight()),0<navbar.length&&(t+=navbar.outerHeight()),""!==n&&null!==n&&"#"===o&&$("html, body").animate({scrollTop:n.offset().top-t},750)}),$(".navbar-toggler").click(function(){$("body").toggleClass("nav-active")}),$(window).trigger("scroll"),$(window).trigger("resize"),adjust_search_box()}),$(window).on("scroll",function(){$(window).scrollTop()<10?navbar.removeClass("sticky-nav"):navbar.addClass("sticky-nav"),adjust_search_box()}),$(window).resize(function(){adjust_search_box()}),$.fn.isInViewport=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=$(this).offset().top+e,n=e+$(this).outerHeight(),t=$(window).scrollTop(),o=t+$(window).height();return t<n&&e<o},jQuery(function(e){e=e("li.mega-menu-item");e.on("open_panel",function(){navbar.addClass("parent-hovered")}),e.on("close_panel",function(){navbar.removeClass("parent-hovered")})});