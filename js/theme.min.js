"use strict";
!(function () {
	var e = -1 < navigator.userAgent.toLowerCase().indexOf("webkit"),
		a = -1 < navigator.userAgent.toLowerCase().indexOf("opera"),
		n = -1 < navigator.userAgent.toLowerCase().indexOf("msie");
	(e || a || n) &&
		document.getElementById &&
		window.addEventListener &&
		window.addEventListener(
			"hashchange",
			function () {
				var e = location.hash.substring(1);
				/^[A-z0-9_-]+$/.test(e) &&
					(e = document.getElementById(e)) &&
					(/^(?:a|select|input|button|textarea)$/i.test(e.tagName) ||
						(e.tabIndex = -1),
					e.focus());
			},
			!1
		);
})(),
	($ = jQuery)(function (n) {
		n(".spurs_loadmore").click(function () {
			var e = !1,
				a = (n("body").hasClass("search-results") && (e = !0), n(this)),
				e = {
					action: "loadmore",
					query: spurs_loadmore_params.posts,
					page: spurs_loadmore_params.current_page,
					search_page: e,
				};
			n.ajax({
				url: spurs_loadmore_params.ajaxurl,
				data: e,
				type: "POST",
				beforeSend: function (e) {
					a.text("Loading...");
				},
				success: function (e) {
					(!e ||
						(a.text("More posts"),
						n(".latest-posts-list > .card-group").append(e),
						spurs_loadmore_params.current_page++,
						spurs_loadmore_params.current_page ==
							spurs_loadmore_params.max_page)) &&
						a.remove();
				},
			});
		});
	});
var window_width = ($ = jQuery)(window).outerWidth(),
	navbar = $("header.main-header"),
	announcement_bar = $(".announcement"),
	admin_bar = $("#wpadminbar");
function adjust_search_box() {
	var e = 0;
	announcement_bar.length &&
		announcement_bar.isInViewport() &&
		(e += announcement_bar.outerHeight()),
		admin_bar.length &&
			admin_bar.isInViewport() &&
			(e += admin_bar.outerHeight()),
		navbar.length && navbar.isInViewport() && (e += navbar.outerHeight()),
		$(".search-box").css("top", e);
}
$(document).ready(function () {
	$("#back-to-top").on("click", function () {
		$("html, body").animate({ scrollTop: 0 }, 1e3);
	}),
		$(".header-search a, .search-box .button-close").click(function () {
			$(".search-box").toggleClass("active"),
				navbar.toggleClass("search-active"),
				adjust_search_box();
		}),
		$(document).on("click", 'a[href^="#"]', function (e) {
			var a = $(this.hash),
				n = 15,
				t = $(this).attr("href");
			0 < admin_bar.length && (n += admin_bar.outerHeight()),
				0 < navbar.length && (n += navbar.outerHeight()),
				"" !== a &&
					null !== a &&
					"#" === t &&
					$("html, body").animate({ scrollTop: a.offset().top - n }, 750);
		}),
		$(".navbar-toggler").click(function () {
			$("body").toggleClass("nav-active");
		}),
		$(window).trigger("scroll"),
		$(window).trigger("resize"),
		adjust_search_box();
}),
	$(window).on("scroll", function () {
		$(window).scrollTop() < 10
			? navbar.removeClass("sticky-nav")
			: navbar.addClass("sticky-nav"),
			adjust_search_box();
	}),
	$(window).resize(function () {
		adjust_search_box();
	}),
	($.fn.isInViewport = function () {
		var e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : 0,
			e = $(this).offset().top + e,
			a = e + $(this).outerHeight(),
			n = $(window).scrollTop(),
			t = n + $(window).height();
		return n < a && e < t;
	}),
	jQuery(function (e) {
		e = e("li.mega-menu-item");
		e.on("open_panel", function () {
			navbar.addClass("parent-hovered");
		}),
			e.on("close_panel", function () {
				navbar.removeClass("parent-hovered");
			});
	});
