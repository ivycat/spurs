"use strict";!function(){var e=-1<navigator.userAgent.toLowerCase().indexOf("webkit"),n=-1<navigator.userAgent.toLowerCase().indexOf("opera"),o=-1<navigator.userAgent.toLowerCase().indexOf("msie");(e||n||o)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var e=location.hash.substring(1);/^[A-z0-9_-]+$/.test(e)&&(e=document.getElementById(e))&&(/^(?:a|select|input|button|textarea)$/i.test(e.tagName)||(e.tabIndex=-1),e.focus())},!1)}(),($=jQuery)(function(o){o(".spurs_loadmore").click(function(){var e=!1,n=(o("body").hasClass("search-results")&&(e=!0),o(this)),e={action:"loadmore",query:spurs_loadmore_params.posts,page:spurs_loadmore_params.current_page,search_page:e};o.ajax({url:spurs_loadmore_params.ajaxurl,data:e,type:"POST",beforeSend:function(e){n.text("Loading...")},success:function(e){(!e||(n.text("More posts"),o(".latest-posts-list > .card-group").append(e),spurs_loadmore_params.current_page++,spurs_loadmore_params.current_page==spurs_loadmore_params.max_page))&&n.remove()}})})}),function(n){n(".menu-item a, a.dropdown-toggle").on("keydown",function(e){if(-1!=["ArrowLeft","ArrowUp","ArrowRight","ArrowDown","Enter"].indexOf(e.key))switch(e.key){case"ArrowDown":e.preventDefault(),0<n(this).closest("ul.dropdown-menu.show").length&&0==n(this).closest("ul.dropdown-menu.dropdown-submenu.show").length&&(e.stopPropagation(),n(this).parent("li").next("li.menu-item").children("a").focus()),n(this).next("ul.dropdown-menu")&&!n(this).next("ul.dropdown-menu.dropdown-submenu")&&(n(this).next("ul.dropdown-menu").addClass("show"),n(this).attr("aria-expanded","true"),n(this).parent().closest("li.menu-item").addClass("show"),console.log("ArrowDown"));break;case"ArrowLeft":e.preventDefault(),0<n(this).closest("ul.dropdown-menu.dropdown-submenu.show").length&&0<n(this).parent("li.menu-item:first-child").length&&(n(this).closest("ul").prev("a").focus(),n(this).closest("ul.dropdown-menu.dropdown-submenu.show").removeClass("show"),n("li.item-menu.show").removeClass("show"),n("a.dropdown-item").attr("aria-expanded","false")),n(this).parent().closest("li").prev("li.menu-item").children("a")&&(n(this).parent().closest("li").prev("li.menu-item").children("a").focus(),console.log("ArrowLeft"));break;case"ArrowRight":0<n(this).closest("ul.dropdown-menu.dropdown-submenu").length||(0<n(this).closest("ul.dropdown-menu").length?(console.log("submenu"),n(this).next("ul.dropdown-menu.dropdown-submenu")&&(n(this).next("ul.dropdown-menu.dropdown-submenu").addClass("show"),n(this).attr("aria-expanded","true"),n(this).parent().closest("li.menu-item").addClass("show"))):(console.log("menu"),n(this).parent("li").next("li.menu-item").children("a").focus()),n(this).next("ul.dropdown-menu.dropdown-submenu.show")&&n(this).next("ul.dropdown-menu.dropdown-submenu.show").children("li.menu-item:first").children("a").focus());break;case"ArrowUp":e.preventDefault(),0<n(this).closest("ul.dropdown-menu.show").length&&0==n(this).closest("ul.dropdown-menu.dropdown-submenu.show").length&&(e.stopPropagation(),n(this).parent("li").prev("li.menu-item").children("a").focus(),0<n(this).parent("li.menu-item:first-child").length)&&n(this).closest("ul.dropdown-menu").prev("a.dropdown-toggle").focus(),0<n(this).closest("ul.dropdown-menu.dropdown-submenu").length&&0<n(this).parent("li.menu-item:first-child").length&&e.stopPropagation(),0<n(this).closest("li.menu-item:first").length&&n(this).closest("ul.dropdown-menu.show").prev("a.dropdown-toggle").focus();break;case"Enter":n(this).next("ul.dropdown-menu.show").length?(console.log("Enter"),n(this).next("ul.dropdown-menu.show").removeClass("show"),n(this).attr("aria-expanded","false"),n(this).parent().closest("li.menu-item").removeClass("show"),n(this).click()):n(this).next("ul.dropdown-menu").length&&(n(this).next("ul.dropdown-menu").addClass("show"),n(this).attr("aria-expanded","true"),n(this).parent().closest("li.menu-item").addClass("show"),n(this).click()),0<n(this).closest("ul.navbar-nav").length&&0==n(this).closest("ul.dropdown-menu").length&&n("ul.dropdown-menu.show").length&&(n("ul.dropdown-menu").removeClass("show"),n("ul.dropdown-menu").prev("a").attr("aria-expanded","false"),n("ul.dropdown-menu").closest("li.menu-item").removeClass("show"))}})}(jQuery);var window_width=($=jQuery)(window).outerWidth(),navbar=$("header.main-header"),announcement_bar=$(".announcement"),admin_bar=$("#wpadminbar");function adjust_search_box(){var e=0;announcement_bar.length&&announcement_bar.isInViewport()&&(e+=announcement_bar.outerHeight()),admin_bar.length&&admin_bar.isInViewport()&&(e+=admin_bar.outerHeight()),navbar.length&&navbar.isInViewport()&&(e+=navbar.outerHeight()),$(".search-box").css("top",e)}$(document).ready(function(){$("#back-to-top").on("click",function(){$("html, body").animate({scrollTop:0},1e3)}),$(".header-search a, .search-box .button-close").click(function(){$(".search-box").toggleClass("active"),navbar.toggleClass("search-active"),adjust_search_box()}),$(document).on("click",'a[href^="#"]',function(e){var n=$(this.hash),o=15,t=$(this).attr("href");0<admin_bar.length&&(o+=admin_bar.outerHeight()),0<navbar.length&&(o+=navbar.outerHeight()),""!==n&&null!==n&&"#"===t&&$("html, body").animate({scrollTop:n.offset().top-o},750)}),$(".navbar-toggler").click(function(){$("body").toggleClass("nav-active")}),$(window).trigger("scroll"),$(window).trigger("resize"),adjust_search_box()}),$(window).on("scroll",function(){$(window).scrollTop()<10?navbar.removeClass("sticky-nav"):navbar.addClass("sticky-nav"),adjust_search_box()}),$(window).resize(function(){adjust_search_box()}),$.fn.isInViewport=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=$(this).offset().top+e,n=e+$(this).outerHeight(),o=$(window).scrollTop(),t=o+$(window).height();return o<n&&e<t},jQuery(function(e){e=e("li.mega-menu-item");e.on("open_panel",function(){navbar.addClass("parent-hovered")}),e.on("close_panel",function(){navbar.removeClass("parent-hovered")})});